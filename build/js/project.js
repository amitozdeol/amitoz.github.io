(()=>{const t=t=>document.querySelector(t),p=[{id:1,question:"What type of Jeans are you shopping for?",catgeory:"jeans",answers:[{id:1,answer:"Skinny",image:"",points:[{product_type:1,points:1},{product_type:2,points:0},{product_type:3,points:-1},{product_type:4,points:1},{product_type:5,points:1},{product_type:6,points:-1}]},{id:2,answer:"Super Skinny",image:"",points:[{product_type:1,points:-1},{product_type:2,points:1},{product_type:3,points:0},{product_type:4,points:0},{product_type:5,points:1},{product_type:6,points:-1}]},{id:3,answer:"Straight",image:"http://placekitten.com/200/302",points:[{product_type:1,points:1},{product_type:2,points:0},{product_type:3,points:-1},{product_type:4,points:1},{product_type:5,points:1},{product_type:6,points:1}]}]},{id:2,question:"Preferred Rise?",catgeory:"jeans",answers:[{id:1,answer:"High",image:"http://placekitten.com/200/303",points:[{product_type:1,points:1},{product_type:2,points:0},{product_type:3,points:-1},{product_type:4,points:1},{product_type:5,points:1},{product_type:6,points:-1}]},{id:2,answer:"Mid",image:"http://placekitten.com/200/304",points:[{product_type:1,points:0},{product_type:2,points:1},{product_type:3,points:0},{product_type:4,points:1},{product_type:5,points:0},{product_type:6,points:0}]},{id:3,answer:"Low",image:"http://placekitten.com/200/305",points:[{product_type:1,points:1},{product_type:2,points:0},{product_type:3,points:-1},{product_type:4,points:1},{product_type:5,points:1},{product_type:6,points:1}]}]},{id:3,question:"Preferred Rise?",catgeory:"jeans",answers:[{id:1,answer:"High",image:"http://placekitten.com/200/306",points:[{product_type:1,points:1},{product_type:2,points:0},{product_type:3,points:-1},{product_type:4,points:1},{product_type:5,points:1},{product_type:6,points:-1}]},{id:2,answer:"Mid",image:"http://placekitten.com/200/307",points:[{product_type:1,points:0},{product_type:2,points:1},{product_type:3,points:0},{product_type:4,points:1},{product_type:5,points:0},{product_type:6,points:0}]},{id:3,answer:"Low",image:"http://placekitten.com/200/308",points:[{product_type:1,points:1},{product_type:2,points:0},{product_type:3,points:-1},{product_type:4,points:1},{product_type:5,points:1},{product_type:6,points:1}]}]}];let e=[{id:1,name:"jeans1",product_types:[{id:1,name:"Skinny",sum:0},{id:2,name:"Super Skinny",sum:0},{id:3,name:"Straight",sum:0},{id:4,name:"Bootcut",sum:0},{id:5,name:"Boyfriend",sum:0},{id:6,name:"Cropped",sum:0}]},{id:2,name:"jeans",product_types:[{id:1,name:"Skinny",sum:0},{id:2,name:"Super Skinny",sum:0},{id:3,name:"Straight",sum:0},{id:4,name:"Bootcut",sum:0},{id:5,name:"Boyfriend",sum:0},{id:6,name:"Cropped",sum:0}]}];function n(e){if(p.length<=e)return;let n=function(t,p){return`<div id="question${t}" class="question"><h4>${p}</h4>`}(e,p[e].question),i="",o=e==p.length-1;p[e].answers.map(((t,p)=>{i+=function(t,p,e){return`<div class="form-check">\n            <input class="form-check-input" type="radio" name="answer${t}" value='${e.answer}' data-index='${p}' required>\n            <label class="form-check-label">\n            ${e.answer}\n            </label>\n            ${e.image?"<img src="+e.image+" class='img-fluid' alt='Responsive image'>":""}\n          </div>`}(e,p,t)})),n+=i+`<button type='button' class='btn btn-primary submitButton' data-qindex='${e}' data-last=${o}>\n\t  ${o?"Submit":"Next"}\n\t  </button>\n\t</div>`,t(".quiz").innerHTML+=n}n(0),t(".quiz").addEventListener("click",(function(i){if(!i.target.matches(".submitButton"))return;let o=i.target.dataset.qindex,s="true"===i.target.dataset.last,r=t(`input[name="answer${o}"]:checked`);if(!r.value)return;const d=r.dataset.index,u=p[o],c=u.answers[d],a=e.filter((t=>t.name===u.catgeory))[0];(function(t,p){t.map((t=>{p.product_types.filter((p=>p.id===t.product_type))[0].sum+=t.points}))})(c.points,a),t(`#question${o}`).classList.add("fade"),s?function(p){let e=p.reduce(((t,p)=>t.sum>p.sum?t:p));t(".quiz").innerHTML+=`<h2>Recommendation ${e.name}</h2>`}(a.product_types):n(++o)}))})();