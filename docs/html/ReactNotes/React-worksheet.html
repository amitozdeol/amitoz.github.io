<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="https://unpkg.com/sakura.css/css/sakura.css" type="text/css">
</head>
<body>
  <div id="app"><h1 id="react-worksheet">React Worksheet</h1>
<ul>
<li><a href="#react-worksheet">React Worksheet</a><ul>
<li><a href="#introduction">Introduction</a><ul>
<li><a href="#intro-to-jsx--">Intro to JSX -</a><ul>
<li><a href="#const--let">const &amp; let</a></li>
</ul>
</li>
<li><a href="#reactdom">ReactDOM</a><ul>
<li><a href="#clock-ticking-example--">Clock ticking example -</a></li>
</ul>
</li>
<li><a href="#hot-module-replacement">Hot module replacement</a></li>
<li><a href="#complex-javascript-in-jsx">Complex javascript in JSX</a><ul>
<li><a href="#convert-to-react-component">Convert to react component</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#basics-in-react">Basics in React</a><ul>
<li><a href="#es6-object-initializer">ES6 Object Initializer</a></li>
<li><a href="#unidirectional-data-flow">Unidirectional Data Flow</a></li>
<li><a href="#bindings">Bindings</a><ul>
<li><a href="#shortcut-approach">Shortcut approach</a></li>
</ul>
</li>
<li><a href="#event-handler">Event Handler</a></li>
<li><a href="#interactions-with-forms-and-events">Interactions with Forms and Events</a><ul>
<li><a href="#search-using-input-fields--">Search using input fields -</a></li>
</ul>
</li>
<li><a href="#es6-destructuring">ES6 Destructuring</a></li>
<li><a href="#controlled-components">Controlled Components</a></li>
<li><a href="#split-up-components">Split up Components</a><ul>
<li><a href="#props-vs-state">Props vs. State</a></li>
</ul>
</li>
<li><a href="#component-declarations">Component Declarations</a></li>
<li><a href="#styling-components">Styling Components</a></li>
</ul>
</li>
<li><a href="#getting-real-with-api">Getting real with API</a><ul>
<li><a href="#lifecycle-methods--">Lifecycle Methods -</a></li>
<li><a href="#fetching-data">Fetching Data</a><ul>
<li><a href="#template-literals--">Template Literals -</a></li>
<li><a href="#fetch--">Fetch -</a></li>
</ul>
</li>
<li><a href="#es6-spread-operators">ES6 Spread Operators</a></li>
<li><a href="#conditional-rendering">Conditional Rendering</a></li>
<li><a href="#client-or-server-side-search">Client or server-side search</a></li>
<li><a href="#paginated-fetch">Paginated Fetch</a></li>
<li><a href="#client-cache">Client Cache</a></li>
<li><a href="#axios">Axios instead of fetch</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p><a name="intro"></a></p>
<h2 id="introduction">Introduction</h2>
<p><a name="introtojsx"></a></p>
<h3 id="intro-to-jsx-">Intro to JSX -</h3>
<p>JSX is neither a string nor HTML. It&#39;s a syntax extension to JavaScript. We recommend using it with React to describe what the UI should look like.</p>
<p>Variable declaration and use-</p>
<pre><code class="lang-javascript">var helloworld = &quot;Welcome to the app&quot;;
&lt;div className=&quot;App&quot;&gt;
    &lt;h2&gt;{helloworld}&lt;/h2&gt;
&lt;/div&gt;

function formatName(user) {
  return user.firstName + &#39; &#39; + user.lastName;
}
&lt;div className=&quot;App&quot;&gt;
    &lt;h2&gt;{formatName(user)}&lt;/h2&gt;
&lt;/div&gt;
</code></pre>
<h4 id="const-let">const &amp; let</h4>
<ol>
<li><p>const = constant. cannot be re-assigned or re-declared.</p>
</li>
<li><p>let = can be re-assigned.</p>
<p> // not allowed</p>
<p> <code>const helloWorld = &#39;Welcome to the Road to learn React&#39;;</code></p>
<p> <code>helloWorld = &#39;Bye Bye React&#39;;</code></p>
<p> //allowed</p>
<p> <code>let helloWorld = &#39;Welcome to the Road to learn React&#39;;</code></p>
<p> <code>helloWorld = &#39;Bye Bye React&#39;;</code></p>
</li>
</ol>
<p><a name="reactdom"></a></p>
<h3 id="reactdom">ReactDOM</h3>
<p>ReactDOM.render() uses a DOM node in your HTML to replace it with JSX.
<strong>element</strong> doesn&#39;t have to be a JSX component instance, it can also be simple HTML</p>
<p>element = <code>&lt;h1&gt;Hello react world&lt;/h1&gt;</code></p>
<pre><code class="lang-javascript">ReactDOM.render(
  element, //for rendering JSX
  document.getElementById(&#39;root&#39;) //place where react application hook into the HTML
);
</code></pre>
<h4 id="clock-ticking-example-">Clock ticking example -</h4>
<pre><code class="lang-javascript">function tick() {
    const element = (
        &lt;div&gt;
            &lt;h1&gt;Hello, world!&lt;/h1&gt;
            &lt;h2&gt;It is {new Date().toLocaleTimeString()}&lt;/h2&gt;
        &lt;/div&gt;
    );
      // highlight-next-line
      ReactDOM.render(element, document.getElementById(&#39;root&#39;));
}
setInterval(tick, 1000);

Output--
Hello, world!
It is 7:43:12 PM. // only the time get&#39;s updated, not any other HTML
</code></pre>
<p><a name="hotmodulereloading"></a></p>
<h3 id="hot-module-replacement">Hot module replacement</h3>
<p>Tool to reload the application in the browser without the page refresh. Add that in <code>src/App.js</code></p>
<pre><code class="lang-javascript">if (module.hot) {
    module.hot.accept();
}
</code></pre>
<p>​<br><a name="complexjsinjsx"></a></p>
<h3 id="complex-javascript-in-jsx">Complex javascript in JSX</h3>
<p>Inside <code>src/App.js</code></p>
<p><strong>Keys</strong>: help React identify which items have changed, are added, or are removed. Keys should be given to the elements inside the array to give the elements a stable identity</p>
<p>Data-</p>
<pre><code class="lang-javascript">const list = [
      {
        title: &#39;React&#39;,
        url: &#39;https://reactjs.org/&#39;,
        author: &#39;Jordan Walke&#39;,
        num_comments: 3,
        points: 4,
        objectID: 0,
      },
      {
        title: &#39;Redux&#39;,
        url: &#39;https://redux.js.org/&#39;,
        author: &#39;Dan Abramov, Andrew Clark&#39;,
        num_comments: 2,
        points: 5,
        objectID: 1,
      },
];
</code></pre>
<p>Code -</p>
<pre><code class="lang-javascript">class App extends Component {
         render() {
            return (
                  &lt;div className=&quot;App&quot;&gt;
                    {list.map(function(item) {
                          return (
                            &lt;div key={item.objectID}&gt;
                                  &lt;span&gt;
                                    &lt;a href={item.url}&gt;{item.title}&lt;/a&gt;
                                  &lt;/span&gt;
                                  &lt;span&gt;{item.author}&lt;/span&gt;
                                  &lt;span&gt;{item.num_comments}&lt;/span&gt;
                                  &lt;span&gt;{item.points}&lt;/span&gt;
                            &lt;/div&gt;
                          );
                    })}
                  &lt;/div&gt;
            );
          }
    }
</code></pre>
<blockquote>
<p>Warning - When you don’t have stable IDs for rendered items, you may use the item index as a key as a last resort</p>
</blockquote>
<h5 id="convert-to-react-component">Convert to react component</h5>
<p>Convert the above code into a react component. This makes it easily reusable anywhere on the app.</p>
<pre><code class="lang-javascript">    function ListAPI(props){
      const listItems = props.list.map((item) =&gt;
          &lt;div key={item.objectID}&gt;
            &lt;span&gt;
              &lt;a href={item.url}&gt;{item.title}&lt;/a&gt;
            &lt;/span&gt;
            &lt;span&gt;{item.author}&lt;/span&gt;
            &lt;span&gt;{item.num_comments}&lt;/span&gt;
            &lt;span&gt;{item.points}&lt;/span&gt;
          &lt;/div&gt;
      )
      return listItems;
    }

    class App extends Component {
      render() {
        return (
          &lt;div className=&quot;App&quot;&gt;
            &lt;ListAPI list={list} /&gt;
          &lt;/div&gt;
        );
      }
    }
</code></pre>
<p>Javascript array properties - <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array</a></p>
<p><a name="basicsinreact"></a></p>
<h2 id="basics-in-react">Basics in React</h2>
<p><a name="es6objectinitializer"></a></p>
<h3 id="es6-object-initializer">ES6 Object Initializer</h3>
<ol>
<li>Use shorthand notation to initialize the object, if the property name is same as variabe name.</li>
</ol>
<table>
<thead>
<tr>
<th>ES5</th>
<th>ES6</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>const name = &#39;Robin&#39;;</code><br/><code>const user = {</code><br/><code>name:name,</code><br/><code>};</code></td>
<td><code>const name = &#39;Robin&#39;;</code><br/><code>const user = {</code><br/><code>name,</code><br/><code>};</code></td>
</tr>
</tbody>
</table>
<ol start="2">
<li><strong>Method definition</strong> - A property of an object can also refer to a function or a getter or setter method.</li>
</ol>
<pre><code class="lang-javascript">   var o = {
        property: function (parameters) {},
        get property() {},
        set property(value) {}

       //can also do something like this
       property(parameters) {},       
       *generator() {}
   };
</code></pre>
<p>   ​
   <a name="unidirectionaldataflow"></a></p>
<h3 id="unidirectional-data-flow">Unidirectional Data Flow</h3>
<ol start="3">
<li>constructor(props) =&gt; <strong>Intialize state</strong></li>
<li>this.setState()    =&gt; <strong>Update state</strong></li>
<li>Button click       =&gt; <strong>View updated state</strong></li>
</ol>
<p>I have a object called <code>items</code> with a list of arrays in it. To Intialize the state of this object in the Component:</p>
<pre><code class="lang-javascript">constructor(props){
    this.state = {
        initList: list
    }
}
</code></pre>
<p>To update the state when a button is clicked:</p>
<pre><code class="lang-javascript">&lt;button
  onClick={() =&gt;
    this.onDismiss(item.id)
  } type=&quot;button&quot;&gt;
  Dismiss
&lt;/button&gt; 

onDismiss(id){
    const isNotId = item =&gt; {return item.id !== id};
    const updatedList = this.state.initList.filter(isNotId);
    //UPDATE STATE
    this.setState({ list: updatedList });
}
</code></pre>
<p><a name="bindings"></a></p>
<h3 id="bindings">Bindings</h3>
<p>Before using <code>this</code> inside any class method, the method need to be bind to the class. Always bind the method inside the constructor, never anywhere else.</p>
<p>//correct</p>
<pre><code class="lang-javascript">constructor(){
    this.function_name.bind(this);   
}
</code></pre>
<p>//wrong</p>
<pre><code class="lang-javascript">render() {
    return (
      &lt;button
        onClick={this.function_name.bind(this)}
        type=&quot;button&quot;
      &gt;
        Click Me
      &lt;/button&gt;
    );
}
</code></pre>
<p>This is because every time the render method is called(component is updated), it&#39;ll bind the method which will affect the application performance.</p>
<h4 id="shortcut-approach">Shortcut approach</h4>
<p>To avoid repetitive binding inside the constructor for each method, use Javascript ES6 approach when creating method: </p>
<p>function_name = () =&gt; {
​    console.log(this);
  } </p>
<p><a href="https://github.com/the-road-to-learn-react/react-alternative-class-component-syntax">https://github.com/the-road-to-learn-react/react-alternative-class-component-syntax</a></p>
<p><a name="eventhandler"></a></p>
<h3 id="event-handler">Event Handler</h3>
<p>Inside render() function-</p>
<pre><code class="lang-javascript">//wrong
&lt;button
    onClick = {this.function_name(item)}
type=&quot;button&quot;&gt;
</code></pre>
<p>This won&#39;t work because When using <code>onClick={function_name()}</code>, the function_name() function executes immediately when the application is opened in a browser. </p>
<p>To fix this always use <code>onClick={() =&gt; function_name()}</code> because this code will only be executed when the button is pressed.  These are called <strong>higher order function</strong></p>
<p><a name="formsandevents"></a></p>
<h3 id="interactions-with-forms-and-events">Interactions with Forms and Events</h3>
<p>Input field -  </p>
<p><code>&lt;input type=&quot;text&quot; onChange={this.onSearchChange} /&gt;</code></p>
<p>Use <strong>Synthetic Events</strong> to get the input value</p>
<p><code>onSearchChange(event){ console.log(event.target.value); }</code></p>
<h4 id="search-using-input-fields-">Search using input fields -</h4>
<p><code>isSearched</code> is a function with <code>searchTerm</code> as parameter that holds the value of input.</p>
<p>This function returns another higher order function which is getting used inside a <code>filter()</code> method to filter the data </p>
<pre><code class="lang-javascript">const isSearched = searchTerm =&gt; item =&gt; item.title.toLowerCase().includes(searchTerm.toLowerCase());
</code></pre>
<p>Call to <code>isSearched</code> - </p>
<pre><code class="lang-javascript">{this.state.list.filter(isSearched(this.state.searchTerm)).map(item) =&gt;
    //display each item
    ...
)}
</code></pre>
<p><strong>Events</strong>: To prevent default when a link event clicked - </p>
<ol>
<li>In HTML ====================================</li>
</ol>
<pre><code class="lang-javascript">&lt;a href=&quot;#&quot; onclick=&quot;console.log(&#39;The link was clicked.&#39;); return false&quot;&gt;
  Click me
&lt;/a&gt;
</code></pre>
<ol start="2">
<li>In React =====================================</li>
</ol>
<pre><code class="lang-javascript">function ActionLink() {
  function handleClick(e) {
    e.preventDefault();
    console.log(&#39;The link was clicked.&#39;);
  }
  return (
    &lt;a href=&quot;#&quot; onClick={handleClick}&gt;
      Click me
        &lt;/a&gt;
  );
}
</code></pre>
<p><a name="es6destructuring"></a></p>
<h3 id="es6-destructuring">ES6 Destructuring</h3>
<p>Assign variable to each array/JSON objects.</p>
<pre><code class="lang-javascript">const users = [&#39;Robin&#39;, &#39;Andrew&#39;, &#39;Dan&#39;];
const [userOne, userTwo, userThree, userFour = &#39;4&#39;] = users;

console.log(userOne, userTwo, userThree, userFour);
// output: Robin Andrew Dan 4
//It shows the default value 4 for userFour since nothing provided

const {num1, num2, num3} = {&#39;1&#39;, &#39;2&#39;, &#39;3&#39;};
const [x, y, ...z] = [1,2,3,4,5];    //x=1, y=2, z=[3,4,5]
</code></pre>
<p><a name="controlledcomponents"></a></p>
<h3 id="controlled-components">Controlled Components</h3>
<p>Form components like <code>&lt;input&gt;</code>, <code>&lt;textarea&gt;</code>, <code>&lt;select&gt;</code> all accept a <code>value</code> attribute that you can use to implement a controlled component. So it get&#39;s easier to control all these elements</p>
<pre><code class="lang-javascript">this.state.value = &quot;coconut&quot;;

&lt;textarea value={this.state.value..toUpperCase()} onChange={this.handleChange} /&gt; //placeholder is &quot;COCONUT&quot;. Always in uppercase
&lt;select value={this.state.value} onChange={this.handleChange}&gt;
  &lt;option value=&quot;grapefruit&quot;&gt;Grapefruit&lt;/option&gt;
    &lt;option value=&quot;lime&quot;&gt;Lime&lt;/option&gt;
    &lt;option value=&quot;coconut&quot;&gt;Coconut&lt;/option&gt;  //selected
&lt;/select&gt;
</code></pre>
<p><a name="splitupcomponents"></a></p>
<h3 id="split-up-components">Split up Components</h3>
<p>We can split different html elements into components. For ex make a search component with a <code>&lt;form&gt;</code>, <code>&lt;label&gt;</code> and <code>&lt;input&gt;</code> into a <code>&lt;Search&gt;</code> component.</p>
<pre><code class="lang-javascript">  class Search extends Component {
    render() {
          //this.props contains all the values passed from the calling class
        const { value, onChange, children } = this.props;
        //console.log(this.props);
        return (
        &lt;form&gt;
            {children}
            &lt;input
            type=&quot;text&quot;
            value={value}
            onChange={onChange}
            /&gt;
        &lt;/form&gt;
        );
    }
  }
</code></pre>
<p>And this can be called from any other class, like this</p>
<pre><code class="lang-javascript">    //searchTerm is the input value
    //onChange contains the change function
    //children is &lt;label&gt;Search&lt;/label&gt;
  &lt;Search
      value={searchTerm}
      onChange={this.onSearchChange}
  &gt;
  &lt;label&gt;Search&lt;/label&gt;
  &lt;/Search&gt;
</code></pre>
<h5 id="props-vs-state">Props vs. State</h5>
<p>Passing only props from component to component doesn’t make the component interactive, because nothing is there to change the props. Props are read-only. That’s the time when React state comes into play which can be changed.</p>
<pre><code class="lang-javascript">//inside constructor of parent component
constructor(props){
  super(props);
  this.state = { isShown: true };
}
//parent level function that change the state based on the props from children component
toggleShow = () =&gt; {
  this.setState((state) =&gt; ({ isShow: !state.isShow }));
};
//Toggle the greeting message when button is pressed 
render() {
  const greeting = &#39;Welcome to React&#39;;
  return (
    &lt;div&gt;
    &lt;Greeting greeting={greeting} isShow={this.state.isShow} /&gt;
    &lt;button onClick={this.toggleShow} type=&quot;button&quot;&gt;
        Toggle Show
    &lt;/button&gt;
    &lt;/div&gt;
  );
}

//Child Component
function Greeting(props){
  const {greeting, isShow} = props;
  return isShow ? &lt;h1&gt;{greeting}&lt;/h1&gt; : null;
}
</code></pre>
<p>As said, there is no way passing props from a child to a parent component. But<strong>you can always pass functions from parent to child components</strong>, whereas the child components make use of these functions and the functions may change the state in a parent component above. Once the state has changed, the state is passed down as props again.</p>
<p><a name="componentdeclarations"></a></p>
<h3 id="component-declarations">Component Declarations</h3>
<table>
<thead>
<tr>
<th>Functional Stateless Component</th>
<th>ES6 Class Component</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>function Button(props){  }</code></td>
<td><code>class Button extends Component</code></td>
</tr>
<tr>
<td>props can be accessed by the function parameter.</td>
<td>props can be accesed by <code>this.props</code></td>
</tr>
<tr>
<td>You cannot access or update the state with <code>this.state</code> or <code>this.setState()</code></td>
<td>You can access or update the states.</td>
</tr>
<tr>
<td>Does not contains any lifecycle method besides <code>render()</code> which will be applied implicitly in functional stateless components.</td>
<td>Contains all the lifecycle methods including <code>constructor</code>, <code>render()</code> and many more.</td>
</tr>
<tr>
<td>Used where the props state is not gonna change. Read only. For example: A Label.</td>
<td>Used where the props value change all the time. For example: on button press</td>
</tr>
</tbody>
</table>
<p><strong>ES6 Simplfication of a function</strong></p>
<p>This can be simplified </p>
<pre><code>function Search(prompt){
  const {value, onChange, children} = prompt;
  return(
    &lt;form&gt;
        {children}
        &lt;input
        type=&quot;text&quot;
        value={value}
        onChange={onChange}
        /&gt;
    &lt;/form&gt;
  )
}
</code></pre><p>to - </p>
<pre><code>const Search = ({value, onChange, children}) =&gt;
    &lt;form&gt;
        {children}
        &lt;input
        type=&quot;text&quot;
        value={value}
        onChange={onChange}
        /&gt;
    &lt;/form&gt;
</code></pre><p><a name="stylingcomponents"></a></p>
<h3 id="styling-components">Styling Components</h3>
<table>
<thead>
<tr>
<th>className</th>
<th>inline style</th>
<th>variable style</th>
</tr>
</thead>
<tbody>
<tr>
<td>You can give property <code>className</code> to any HTML item and style it that way. <code>className</code> is same as <code>class</code> in react.</td>
<td>Inside any HTML element add style attribute, <code>style={{ width: &#39;30%&#39; }}</code></td>
<td>To clean up inline styling, assign property to a variable<br/> <code>const largeCol = { width: &#39;40%&#39;}</code> and assign variable, <br/> <code>style={largeCol}</code></td>
</tr>
</tbody>
</table>
<p><a href="https://github.com/styled-components/styled-components">Styled Components</a></p>
<p><a href="https://github.com/css-modules/css-modules">CSS Modules</a></p>
<p><a name="gettingrealwithapi"></a></p>
<h2 id="getting-real-with-api">Getting real with API</h2>
<p><a name="lifecyclemethods"></a></p>
<h3 id="lifecycle-methods-">Lifecycle Methods -</h3>
<p>Type of lifecycle methods - </p>
<ol>
<li><p>constructor()</p>
</li>
<li><p>render() - </p>
<ol>
<li>return element. It shouldn&#39;t modify the component state.</li>
</ol>
</li>
<li><p>static getDerivedStateFromProps(props, state) - </p>
<ol>
<li>called both on the initial mount and on the subsequent updates. Return object to update state. It&#39;s a static method so no access to component instance. </li>
</ol>
</li>
<li><p>componentDidMount() - </p>
<ol>
<li>called once when the component is mounted. That’s the perfect time to do an asynchronous request to fetch data from an API. The fetched data is stored in the local component state to display it in the render() lifecycle method.</li>
</ol>
</li>
</ol>
<p>Which method get called first to last - 
<code>constructor()</code> --&gt; <code>getDerivedStateFromProps()</code> --&gt; <code>render()</code> --&gt; <code>componentDidMount()</code></p>
<p>For the <code>update</code> lifecycle of a component when the state or the props change, there are 5 lifecycle methods, in the following order:</p>
<ol>
<li>getDerivedStateFromProps()</li>
<li>shouldComponentUpdate(nextProps, nextState) - <ol>
<li>called when the component updates due to state or prop change. </li>
<li>return boolean. If false, component won&#39;t update. </li>
<li>Helps in speed improvement of project</li>
</ol>
</li>
<li>render()</li>
<li>getSnapshotBeforeUpdate(prevProps, prevState) - <ol>
<li>called right before the DOM changes appear to the user. return value that can be accessed inside componentDidUpdate() method as a parameter. </li>
</ol>
</li>
<li>componentDidUpdate(prevProps, prevState, snapshot) - <ol>
<li>called immediately after updating.Helpful in fetching data from an API.  <code>snapshot</code> parameter contains the value recieved from getSnapshotBeforeUpdate() method. </li>
<li><pre><code class="lang-javascript">componentDidUpdate(prevProps) {
  // Typical usage (don&#39;t forget to compare props):
  if (this.props.userID !== prevProps.userID) {
    this.fetchData(this.props.userID);
  }
}
</code></pre>
</li>
</ol>
</li>
</ol>
<p><code>componentDidCatch(error, info)</code> - New method added to catch error in componets. You can catch the error, store it in your local state, and show a message to the user.</p>
<p>Graph - <img src="images/lifecycleMethods.png" alt="lifecycleMethods"></p>
<p><strong>Clock example with states</strong> - <a href="https://reactjs.org/docs/state-and-lifecycle.html">https://reactjs.org/docs/state-and-lifecycle.html</a></p>
<p><a name="fetchingdata"></a></p>
<h3 id="fetching-data">Fetching Data</h3>
<p>const DEFAULT_QUERY = &#39;redux&#39;;
const PATH_BASE = &#39;<a href="https://hn.algolia.com/api/v1&#39;">https://hn.algolia.com/api/v1&#39;</a>;
const PATH_SEARCH = &#39;/search&#39;;
const PARAM_SEARCH = &#39;query=&#39;;</p>
<h4 id="template-literals-">Template Literals -</h4>
<p>  Need back ticks`, dollar sign($) and curly brace</p>
<ol>
<li><p>Variable inside a string <code>`string text ${expression} string text`</code>. If a new line is inside these back ticks, it will automatically be treated as <code>\n</code>.</p>
</li>
<li><p><strong>Expression Interpolation</strong> - <code>`Fifteen is ${a + b}`</code> </p>
</li>
<li><p>String Concatination - <code>const url = `${PATH_BASE}${PATH_SEARCH}?${PARAM_SEARCH}${DEFAULT_QUERY}`;</code></p>
</li>
</ol>
<h4 id="fetch-">Fetch -</h4>
<pre><code class="lang-javascript">  fetch(`${PATH_BASE}${PATH_SEARCH}?${PARAM_SEARCH}${searchTerm}`) //fetch URL
      .then(response =&gt; response.json()) //response transformed into JSON data structure
      // when recieve data, it change the state of result.
      // State change re-render the component, which calls the render() method which populate the page with this new result.
      .then(result =&gt; this.setState({ result }))
      .catch(error =&gt; error);
</code></pre>
<p>Data fetching in react - <a href="https://www.robinwieruch.de/react-fetching-data/">https://www.robinwieruch.de/react-fetching-data/</a></p>
<p><a name="es6spreadoperators"></a></p>
<h3 id="es6-spread-operators">ES6 Spread Operators</h3>
<p>Normal spread</p>
<pre><code class="lang-javascript">  const userList = [&#39;Robin&#39;, &#39;Andrew&#39;, &#39;Dan&#39;];
  const additionalUser = &#39;Jordan&#39;;
  const allUsers = [ ...userList, additionalUser ];

  console.log(allUsers);
  // output: [&#39;Robin&#39;, &#39;Andrew&#39;, &#39;Dan&#39;, &#39;Jordan&#39;]
</code></pre>
<p>merge array - </p>
<pre><code class="lang-javascript">  const userList = [&#39;Robin&#39;, &#39;Andrew&#39;];
  const additionalUsers = [&#39;Dan&#39;, &#39;Jordan&#39;];
  const allUsers = [ ...userList, ...additionalUsers ];

  console.log(allUsers);
  // output: [&#39;Robin&#39;, &#39;Andrew&#39;, &#39;Dan&#39;, &#39;Jordan&#39;]
</code></pre>
<p><strong>Object Spread operator</strong> - This is react specific for now but will get implemented in future. </p>
<pre><code class="lang-javascript">  const userNames = { firstname: &#39;Robin&#39;, lastname: &#39;Wieruch&#39; };
  const age = 28;
  const user = { ...userNames, age };

  console.log(user);
  // output: { firstname: &#39;Robin&#39;, lastname: &#39;Wieruch&#39;, age: 28 }
</code></pre>
<p>current javascript way of joining objects ins by <code>Object.assign()</code></p>
<p><code>const mergedObj = Object.assign( {}, obj1, obj2 );</code></p>
<p><a name="conditionalrendering"></a></p>
<h3 id="conditional-rendering">Conditional Rendering</h3>
<p>In JavaScript a<code>true &amp;&amp; &#39;Hello World&#39;</code>always evaluates to ‘Hello World’. A<code>false &amp;&amp; &#39;Hello World&#39;</code>always evaluates to false.</p>
<pre><code class="lang-javascript">const result = true &amp;&amp; &#39;Hello World&#39;;
console.log(result);
// Hello World

const result = false &amp;&amp; &#39;Hello World&#39;;
console.log(result);
// false
</code></pre>
<p>In React you can make use of that behaviour. If the condition is true, the expression after the logical &amp;&amp; operator will be the output. If the condition is false, React ignores and skips the expression.</p>
<pre><code class="lang-javascript">function LoadingIndicator({ isLoading }) {
  return (
    &lt;div&gt;
      { isLoading &amp;&amp; &lt;p&gt;Loading...&lt;/p&gt; }
    &lt;/div&gt;
  );
}
</code></pre>
<p>Multiple conditional rendering - <a href="https://www.robinwieruch.de/conditional-rendering-react/#switch-case-operator">https://www.robinwieruch.de/conditional-rendering-react/#switch-case-operator</a></p>
<p><a name="clientorserversidesearch"></a></p>
<h3 id="client-or-server-side-search">Client or server-side search</h3>
<p>Form submission. <code>onSubmit()</code><br>
<code>&lt;Search value={searchTerm} onSubmit={this.onSearchSubmit}&gt; Search&lt;/Search&gt;</code></p>
<p>This search component will have a <code>form</code>, <code>&lt;input&gt;</code> and a <code>&lt;button type=&quot;submit&quot;&gt;</code> to trigger the onsubmit event. </p>
<p>To prevent reloading every time a button is pressed we will use Synthetic event.</p>
<pre><code class="lang-javascript">onSearchSubmit(event) {
  const { searchTerm } = this.state; 
  this.fetchSearchTopstories(searchTerm); 
  event.preventDefault();
}
</code></pre>
<p><a name="paginatedfetch"></a></p>
<h3 id="paginated-fetch">Paginated Fetch</h3>
<p>Not that important. It just use <code>page</code> property in hackernews API to get data from each page every time a button is <code>onClick</code></p>
<p><a name="clientcache"></a></p>
<h3 id="client-cache">Client Cache</h3>
<p>We can store the results coming from the API into an key-&gt;value object pair. To append to an already added result object, use spread operator. </p>
<pre><code class="lang-javascript">//spread results object and append the searched object to that key
this.setState({
    results: {
        ...results,
        [searchKey]: { hits: updatedHits, page }
    }
});
</code></pre>
<p><a name="errorhandling"></a></p>
<h3 id="error-handling">Error handling</h3>
<p>Use an error object in the component state and edit that error state when API catch error.</p>
<p>fetch(<code>{api_url_}</code>)</p>
<p>.then(response  =&gt;  response.json())<br></p>
<p><strong><em>.catch(error  =&gt;  this.setState({error}));</em></strong></p>
<p>And then use conditional rendering to show error if it&#39;s present, inside the render() method. </p>
<p>{error ? &lt; Error &gt;error message&lt;/ Error &gt; : other html }</p>
<p><a name="Axios"></a></p>
<h3 id="axios-instead-of-fetch">Axios instead of fetch</h3>
</div>
</body>
</html>